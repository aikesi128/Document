# 协程



协程又称为微线程, 纤程, 英文Coroutine.

线程是进程中的一段可执行序列, 是CPU调度的基本单位. 线程的调用是通过栈实现的, 一个线程也就是一个子程序. 协程看似也是子程序, 但是在根本在于执行的过程中, 在执行的程序内可已中断, 去执行别的子程序, 在适当的时机可以返回来继续执行.  类似于CPU的中断, 中断优先级较高, 中断处理程序执行完后再回来继续执行当前程序. 

例如有两个函数, 在执行其中一个函数的时候, 可以随时中断, 去执行另外一个,  在执行另外一个函数的时候也可以随时中断在执行原先的函数. 

 协程的执行过程其实是在一个线程总发生的,  效率很高, 因为在同一线程中执行, 不存在多线程抢夺资源的问题, 不用加锁操作, 也没有线程切换的开销,  和多线程相比,  线程的数量越多, 协程的优势就越明显. 

在多CPU的环境下, 可以利用进程+协程的方式, 充分利用多核, 发挥协程的高效率. 