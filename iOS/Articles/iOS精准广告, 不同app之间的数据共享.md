#  精准广告, 不同app间的数据共享 

  **IDFA**：IDFA广告标示符，适用于对外：例如广告推广，换量等跨应用的用户追踪等。IDFA是目前苹果生态广告交易的主要标识，存储在用户iOS系统上，同一设备上的应用获取到的IDFA是相同的。一般跟广告商交易一个用户后广告商需要给你提供用户的IDFA作为凭证，主流的广告平台腾讯广点通、新浪粉丝通对账是基于IDFA的。 另外，在统计唯一用户的时候，IDFA的可变性会造成部分用户的重复统计。 

 当用户限制广告追踪的时候获取到的IDFA: 00000000-0000-0000-0000-000000000000

正常情况下: 6655C2D7-B181-457B-A58A-BF8E9EDF41D8

**注意:**  重复关闭和开启广告追踪的话, IDFA是会变的.  开启后又关闭获取到IDFA为: A257B5BF-7ACC-4D32-B0C0-0928EA759EFC, 与之前正常情况下获取的不一致.  <iphoneXR上测试>



**最终思路:** 用户在点击广告的时候, 广告SDK将IDFA和广告ID存在服务器, 当用户下载完毕第一次打开, 与服务器比对, 如果服务器存在IDFA则为用户点击广告下载的, 否则为其他渠道下载.

